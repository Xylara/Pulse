<style>
    .sidebar {
        width: 72px;
        height: 100vh;
        background-color: #ffffff;
        color: #333;
        padding: 10px 0;
        box-sizing: border-box;
        position: fixed;
        top: 0;
        left: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        border-right: 1px solid #e0e0e0;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        z-index: 1001;
    }

    .sidebar-link {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 52px;
        height: 52px;
        border-radius: 12px;
        text-decoration: none;
        transition: background-color 0.2s;
    }

    .sidebar-link:hover {
        background-color: #f0f0f0;
    }

    .sidebar-link.active {
        background-color: #f0f0f0;
    }

    .sidebar-link img {
        width: 32px;
        height: 32px;
    }
    .profile-picture-icon {
        width: 42px; 
        height: 42px;
        border-radius: 50%;
        object-fit: cover;
    }

    .sidebar-link-container {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 10px 0; 
    }

    .sidebar-link {
        margin: 0; 
    }

    .sidebar-tooltip {
        position: absolute;
        left: 72px; 
        top: 50%;
        transform: translateY(-50%);
        background-color: #ffffff;
        color: #000000;
        padding: 8px 12px;
        border-radius: 6px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.2s, visibility 0.2s;
        pointer-events: none; 
        z-index: 1001; 
        font-size: 14px;
        font-weight: 500;
        border: 1px solid #e0e0e0;
    }

    .sidebar-link-container:hover .sidebar-tooltip {
        opacity: 1;
        visibility: visible;
    }

    .sidebar-tooltip::before {
        content: '';
        position: absolute;
        left: -6px; 
        top: 50%;
        transform: translateY(-50%) rotate(45deg);
        width: 10px;
        height: 10px;
        background-color: #ffffff;
        border-left: 1px solid #e0e0e0;
        border-bottom: 1px solid #e0e0e0;
        z-index: 1;
    }
</style>

<div class="sidebar">
    <%
        const isDashboardActive = currentPath === '/dashboard';
        const isFriendsActive = currentPath.startsWith('/friends');
        const isSettingsActive = currentPath === '/settings';
    %>
    <div class="sidebar-link-container">
        <a href="/dashboard" class="sidebar-link<%= isDashboardActive ? ' active' : '' %>">
            <img src="/others/pulse.png" alt="Pulse Logo">
        </a>
        <div class="sidebar-tooltip">Home</div>
    </div>

    <div class="sidebar-link-container">
        <a href="/settings" class="sidebar-link<%= isSettingsActive ? ' active' : '' %>">
            <img src="<%= user.profile_picture %>" alt="Profile Picture" class="profile-picture-icon">
        </a>
        <div class="sidebar-tooltip">Settings</div>
    </div>

    <% if (user && user.isadmin && user.isadmin.toLowerCase() === 'yes') { %>
    <div class="sidebar-link-container" style="margin-top: auto;">
        <a href="/admin" class="sidebar-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0-.33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
            </svg>
        </a>
        <div class="sidebar-tooltip">Admin</div>
    </div>
    <% } %>
</div>